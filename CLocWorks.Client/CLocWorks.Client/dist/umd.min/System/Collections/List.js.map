{"version":3,"sources":["System/Collections/List.js","System/Collections/List.ts"],"names":["__extends","this","d","b","__","constructor","p","hasOwnProperty","prototype","Object","create","factory","module","exports","v","require","undefined","define","amd","Compare_1","Utility_1","Enumerator_1","Types_1","ArrayEnumerator_1","CollectionBase_1","List","_super","source","equalityComparer","areEqual","call","_","Array","isArray","_source","slice","_importEntries","getCount","length","_addInternal","entry","push","_removeInternal","max","Infinity","remove","_equalityComparer","_clearInternal","len","entries","Type","isArrayLike","s","first","i","get","index","set","value","_onModified","indexOf","item","insert","splice","removeAt","removeIndex","contains","copyTo","target","getEnumerator","ArrayEnumerator","forEach","action","useCopy","CollectionBase","defineProperty"],"mappings":"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","file":"System/Collections/List.js","sourcesContent":["/*!\n * @author electricessence / https://github.com/electricessence/\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\n */\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../Compare\", \"./Array/Utility\", \"./Enumeration/Enumerator\", \"../Types\", \"./Enumeration/ArrayEnumerator\", \"./CollectionBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Compare_1 = require(\"../Compare\");\n    var Utility_1 = require(\"./Array/Utility\");\n    var Enumerator_1 = require(\"./Enumeration/Enumerator\");\n    var Types_1 = require(\"../Types\");\n    var ArrayEnumerator_1 = require(\"./Enumeration/ArrayEnumerator\");\n    var CollectionBase_1 = require(\"./CollectionBase\");\n    var List = (function (_super) {\n        __extends(List, _super);\n        function List(source, equalityComparer) {\n            if (equalityComparer === void 0) { equalityComparer = Compare_1.areEqual; }\n            _super.call(this, null, equalityComparer);\n            var _ = this;\n            if (Array.isArray(source)) {\n                _._source = source.slice();\n            }\n            else {\n                _._source = [];\n                _._importEntries(source);\n            }\n        }\n        List.prototype.getCount = function () {\n            return this._source.length;\n        };\n        List.prototype._addInternal = function (entry) {\n            this._source.push(entry);\n            return true;\n        };\n        List.prototype._removeInternal = function (entry, max) {\n            if (max === void 0) { max = Infinity; }\n            return Utility_1.remove(this._source, entry, max, this._equalityComparer);\n        };\n        List.prototype._clearInternal = function () {\n            var len = this._source.length;\n            this._source.length = 0;\n            return len;\n        };\n        List.prototype._importEntries = function (entries) {\n            if (Types_1.Type.isArrayLike(entries)) {\n                var len = entries.length;\n                if (!len)\n                    return 0;\n                var s = this._source;\n                var first = s.length;\n                s.length += len;\n                for (var i = 0; i < len; i++) {\n                    s[i + first] = entries[i];\n                }\n                return len;\n            }\n            else {\n                return _super.prototype._importEntries.call(this, entries);\n            }\n        };\n        List.prototype.get = function (index) {\n            return this._source[index];\n        };\n        List.prototype.set = function (index, value) {\n            var s = this._source;\n            if (index < s.length && Compare_1.areEqual(value, s[index]))\n                return false;\n            s[index] = value;\n            this._onModified();\n            return true;\n        };\n        List.prototype.indexOf = function (item) {\n            return Utility_1.indexOf(this._source, item, this._equalityComparer);\n        };\n        List.prototype.insert = function (index, value) {\n            var s = this._source;\n            if (index < s.length) {\n                this._source.splice(index, 0, value);\n            }\n            else {\n                this._source[index] = value;\n            }\n            this._onModified();\n        };\n        List.prototype.removeAt = function (index) {\n            if (Utility_1.removeIndex(this._source, index)) {\n                this._onModified();\n                return true;\n            }\n            return false;\n        };\n        List.prototype.contains = function (item) {\n            return Utility_1.contains(this._source, item, this._equalityComparer);\n        };\n        List.prototype.copyTo = function (target, index) {\n            return Utility_1.copyTo(this._source, target, 0, index);\n        };\n        List.prototype.getEnumerator = function () {\n            return new ArrayEnumerator_1.ArrayEnumerator(this._source);\n        };\n        List.prototype.forEach = function (action, useCopy) {\n            var s = this._source;\n            return Enumerator_1.forEach(useCopy ? s.slice() : s, action);\n        };\n        return List;\n    }(CollectionBase_1.CollectionBase));\n    exports.List = List;\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = List;\n});\n","/*!\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\n\r\nimport {areEqual} from \"../Compare\";\r\nimport {remove, indexOf, contains, copyTo, removeIndex} from \"./Array/Utility\";\r\nimport {forEach} from \"./Enumeration/Enumerator\";\r\nimport {Type} from \"../Types\";\r\nimport {ArrayEnumerator} from \"./Enumeration/ArrayEnumerator\";\r\nimport {CollectionBase} from \"./CollectionBase\";\r\nimport {Predicate, Action, EqualityComparison} from \"../FunctionTypes\";\r\nimport {IEnumerator} from \"./Enumeration/IEnumerator\";\r\nimport {IList} from \"./IList\";\r\nimport {IEnumerateEach} from \"./Enumeration/IEnumerateEach\";\r\nimport {IEnumerableOrArray} from \"./IEnumerableOrArray\";\r\nimport {IArray} from \"./Array/IArray\";\r\n\r\nexport class List<T>\r\nextends CollectionBase<T> implements IList<T>, IEnumerateEach<T>\r\n{\r\n\r\n\tprotected _source:T[];\r\n\r\n\tconstructor(\r\n\t\tsource?:IEnumerableOrArray<T>,\r\n\t\tequalityComparer:EqualityComparison<T> = areEqual)\r\n\t{\r\n\t\tsuper(null, equalityComparer);\r\n\t\tvar _ = this;\r\n\t\tif(Array.isArray(source))\r\n\t\t{\r\n\t\t\t_._source = source.slice();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_._source = [];\r\n\t\t\t_._importEntries(source);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getCount():number\r\n\t{\r\n\t\treturn this._source.length;\r\n\t}\r\n\r\n\tprotected _addInternal(entry:T):boolean\r\n\t{\r\n\t\tthis._source.push(entry);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprotected _removeInternal(entry:T, max:number = Infinity):number\r\n\t{\r\n\t\treturn remove(\r\n\t\t\tthis._source, entry, max,\r\n\t\t\tthis._equalityComparer);\r\n\t}\r\n\r\n\tprotected _clearInternal():number\r\n\t{\r\n\t\tvar len = this._source.length;\r\n\t\tthis._source.length = 0;\r\n\t\treturn len;\r\n\t}\r\n\r\n\tprotected _importEntries(entries:IEnumerableOrArray<T>):number\r\n\t{\r\n\t\tif(Type.isArrayLike(entries))\r\n\t\t{\r\n\t\t\tvar len = entries.length;\r\n\t\t\tif(!len) return 0;\r\n\t\t\tvar s = this._source;\r\n\r\n\t\t\tvar first = s.length;\r\n\t\t\ts.length += len;\r\n\t\t\tfor(let i = 0; i<len; i++)\r\n\t\t\t{\r\n\t\t\t\ts[i + first] = entries[i];\r\n\t\t\t}\r\n\r\n\t\t\treturn len;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn super._importEntries(entries);\r\n\t\t}\r\n\t}\r\n\r\n\tget(index:number):T\r\n\t{\r\n\t\treturn this._source[index];\r\n\t}\r\n\r\n\tset(index:number, value:T):boolean\r\n\t{\r\n\t\tvar s = this._source;\r\n\t\tif(index<s.length && areEqual(value, s[index]))\r\n\t\t\treturn false;\r\n\r\n\t\ts[index] = value;\r\n\t\tthis._onModified();\r\n\t\treturn true;\r\n\t}\r\n\r\n\tindexOf(item:T):number\r\n\t{\r\n\t\treturn indexOf(\r\n\t\t\tthis._source, item,\r\n\t\t\tthis._equalityComparer);\r\n\t}\r\n\r\n\tinsert(index:number, value:T):void\r\n\t{\r\n\t\tvar s = this._source;\r\n\t\tif(index<s.length)\r\n\t\t{\r\n\t\t\tthis._source.splice(index, 0, value);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._source[index] = value;\r\n\t\t}\r\n\t\tthis._onModified();\r\n\t}\r\n\r\n\tremoveAt(index:number):boolean\r\n\t{\r\n\t\tif(removeIndex(this._source, index))\r\n\t\t{\r\n\t\t\tthis._onModified();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcontains(item:T):boolean\r\n\t{\r\n\t\treturn contains(\r\n\t\t\tthis._source, item,\r\n\t\t\tthis._equalityComparer);\r\n\t}\r\n\r\n\tcopyTo<TTarget extends IArray<any>>(target:TTarget, index?:number):TTarget\r\n\t{\r\n\t\treturn copyTo(this._source, target, 0, index);\r\n\t}\r\n\r\n\tgetEnumerator():IEnumerator<T>\r\n\t{\r\n\t\treturn new ArrayEnumerator(this._source);\r\n\t}\r\n\r\n\tforEach(action:Predicate<T>|Action<T>, useCopy?:boolean):number\r\n\t{\r\n\t\tvar s = this._source;\r\n\t\treturn forEach(useCopy ? s.slice() : s, action);\r\n\t}\r\n\r\n}\r\n\r\nexport default List;"]}